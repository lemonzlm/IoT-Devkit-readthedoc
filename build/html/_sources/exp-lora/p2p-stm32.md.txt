
# 基于STM32的LoRa节点P2P通信

除了前面章节演示的Lora节点直接与Lorawan网关通信的模式之外，Lora还支持P2P通信，关于LoRa的P2P模式，就是点对点传输，可以不用网关，两个节点之间就可以完成。配置P2P的参数时，不需要输入对方地址，其实原理就是在某个固定的频点上发消息，另一个人在这个频点上监听接收。

本章节将介绍如何设置和连接两个RAK3172，以在LoRa P2P模式下工作。模块的配置通过使用USB转UART来完成。每个RAK3172的设置可以单独进行，但测试LoRa P2P模式需要同时连接两个模块。在我们的实验箱中，有两个Lora模块，可以接到PC机上，打开两个串口调试助手分别设置。

## 实验目的

- 测试LoRa的P2P模式

## 实验步骤

1. 首先需要把模块设置为P2P模式，命令为：

   ```
   AT+NWM=0
   ```

   ` AT+NWM` 参数：0=LoRa P2P，1=LoRaWAN。

   > 注意：
   >
   > 如果将模式从LoRaWAN更改为LoRa P2P，设备将自动启动，反之亦然。
   > 可能需要再次输入“ATE”命令，以确保P2P模式下的后续命令在终端上回显

2. 
